<html lang="en">

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: black;
    display: flex;
    font-family: sans-serif;
}

/* Left: Board */
#boardContainer {
    width: 55%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: black;
    position: relative;
}
#board {
    position: relative;
    width: 800px;
    height: 800px;
}
#boardImg {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.hotel, .house {
    width: 24px;
    height: 24px;
}
</style>


<!-- Left: Monopoly board -->
<div id="boardContainer">
<div id="board">

<img id="boardImg" src="map.webp" alt="Monopoly Board">



</div>
</div>
       





<script>
const buildingPositions = {
  1:{x:660,y:663},3:{x:530,y:663},6:{x:333,y:663},8:{x:203,y:663},9:{x:140,y:663},
  11:{x:100,y:610},12:{x:104,y:550},14:{x:112,y:430},16:{x:119,y:310},17:{x:125,y:255},
  19:{x:133,y:149},21:{x:180,y:118},22:{x:235,y:118},24:{x:350,y:118},26:{x:470,y:118},
  28:{x:590,y:118},29:{x:648,y:118},31:{x:691,y:150},33:{x:693,y:260},34:{x:696,y:315},
  37:{x:700,y:490},39:{x:705,y:610}
};

function scalePosition(pos) {
  return pos;
}

// Houses & hotels
async function refreshElements(type, url, positions, imgSrc) {
  try {
    const res = await fetch(`${url}?t=${Date.now()}`);
    const data = await res.json();
    document.querySelectorAll(`.${type}`).forEach(el => el.remove());
    const board = document.getElementById('board');
    for (const [space, active] of Object.entries(data)) {
      if (active && positions[space]) {
        const pos = positions[space];
        const el = document.createElement('img');
        el.src = imgSrc;
        el.className = type;
        el.style.position = 'absolute';
        el.style.left = (pos.x - 12) + 'px';
        el.style.top  = (pos.y - 12) + 'px';
        board.appendChild(el);
      }
    }
  } catch (e) { console.error(`Error loading ${type}:`, e); }
}

setInterval(() => refreshElements('hotel', '/hotels.json', buildingPositions, 'hotel.webp'), 9000);
setInterval(() => refreshElements('house', '/houses.json', buildingPositions, 'house.webp'), 9000);



</script>


</html>
